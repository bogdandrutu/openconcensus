plugins {
    id 'java'
    id 'com.github.sherter.google-java-format' version '0.8'
    id "com.jfrog.artifactory" version "4.14.1"
}

group 'io.opentelemetry'
version '0.3.0-SNAPSHOT'


//create a single Jar with all dependencies
task fatJar(type: Jar) {
    baseName = project.name + '-all'
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}

googleJavaFormat {
    toolVersion = '1.7'
}

compileJava.dependsOn(verifyGoogleJavaFormat)

repositories {
    mavenCentral()
    jcenter()
    maven {
        // Add snapshot repository
        url "https://oss.jfrog.org/artifactory/oss-snapshot-local"
    }
}

dependencies {
    compile "io.opentelemetry:opentelemetry-sdk:${version}"
    compile "io.opentelemetry:opentelemetry-exporters-logging:${version}"
    testCompile group: 'junit', name: 'junit', version: '4.12'
}